<div class="modal modal-open">
  <div class="modal-box max-w-xl">

    <h3 class="font-bold text-lg mb-4">Tambah Delivery Order Baru</h3>

    <form @submit.prevent="submitForm">

      <div class="grid grid-cols-2 gap-3">

        <input class="input input-bordered" readonly v-model="form.kode" />

        <input class="input input-bordered" placeholder="NIM" v-model="form.nim" required />

        <input class="input input-bordered" placeholder="Nama" v-model="form.nama" required />

        <select class="select select-bordered" v-model="form.ekspedisi" required>
          <option value="">Pilih Ekspedisi</option>
          <option v-for="e in data.pengirimanList" :value="e.kode">
            {{ e.nama }}
          </option>
        </select>

        <select class="select select-bordered" v-model="form.paket" @change="changePackage" required>
          <option value="">Pilih Paket</option>
          <option v-for="p in data.paket" :value="p.kode">
            {{ p.kode }} - {{ p.nama }}
          </option>
        </select>

      </div>

      <div v-if="selectedPackage" class="p-3 mt-3 border rounded">
        <p class="font-medium">Isi Paket:</p>
        <ul class="list-disc ml-5">
          <li v-for="item in selectedPackage.isi">{{ item }}</li>
        </ul>
      </div>

      <label class="form-control mt-3">
        <span class="label-text">Tanggal Kirim</span>
        <input class="input input-bordered" type="date" v-model="form.tanggalKirim" required />
      </label>

      <p class="mt-3">
        <strong>Total:</strong>
        Rp{{ selectedPackage ? selectedPackage.harga.toLocaleString("id-ID") : 0 }}
      </p>

      <div class="modal-action">
        <button class="btn" type="button" @click="$emit('close')">Batal</button>
        <button class="btn btn-primary" type="submit">Simpan</button>
      </div>

    </form>

  </div>
</div>
